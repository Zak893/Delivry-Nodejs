"use strict";(self["webpackChunkfood_delivery_app_front"]=self["webpackChunkfood_delivery_app_front"]||[]).push([[57],{4057:function(s,e,r){r.r(e),r.d(e,{default:function(){return d}});var a=function(){var s=this,e=s._self._c;return e("div",{staticClass:"login"},[e("h1",{staticClass:"signUp__name",staticStyle:{display:"flex"}},[s._v("Login As "),e("span",{class:{signUp_option:!0,"selected-option":"Client"===s.selectedOption},on:{click:function(e){s.selectedOption="Client"}}},[s._v(" Client ")]),e("span",{class:{signUp_option:!0,"selected-option":"Delivery"===s.selectedOption},on:{click:function(e){s.selectedOption="Delivery"}}},[s._v(" Delivery ")])]),s.serverError?e("BaseAlert",{staticClass:"login__alert",attrs:{variant:"danger",message:s.serverError}}):s._e(),s.serverSuccess?e("BaseAlert",{staticClass:"login__alert",attrs:{variant:"success",message:s.serverSuccess}}):s._e(),e("BaseInput",{attrs:{label:"Email",type:"email",placeholder:"name@example.com",value:s.formData.email,error:s.errors.email},on:{onInput:e=>s.changeField("email",e)}}),e("BaseInput",{staticClass:"login__baseInput",attrs:{label:"Password",type:"password",placeholder:"min.8 characters",value:s.formData.password,showPassword:s.showPassword,error:s.errors.password},on:{onPasswordToggle:s.showPasswordClick,onInput:e=>s.changeField("password",e)}}),e("BaseButton",{staticClass:"login__baseBtn",attrs:{variant:"primary",loading:s.isLoading},on:{onClick:s.login}},[s._v(" Login ")]),e("router-link",{staticClass:"login__forgotLink",attrs:{to:"/auth/forgot-password"}},[s._v("Forgot password")]),e("div",{staticClass:"login__subText"},[e("p",[s._v(" Don`t have an account?"),e("router-link",{staticClass:"login__link",attrs:{to:"/auth/sign"}},[s._v(" Sign up")])],1)])],1)},t=[],o=(r(7658),r(408)),i={name:"LoginPage",data(){return{isLoading:!1,showPassword:!1,serverError:"",serverSuccess:"",formData:{email:"",password:""},errors:{email:"",password:""},selectedOption:"Client"}},methods:{...(0,o.nv)({loginAction:"auth/login"}),showPasswordClick(){this.showPassword=!this.showPassword},changeField(s,e){""!==this.errors[s]&&(this.errors[s]=""),this.formData[s]=e},login(){this.isLoading=!0,this.loginAction(this.formData).then((s=>{this.serverError="",this.serverSuccess=s.data.message,this.formData.email="",this.formData.password="",localStorage.setItem("foodDeliveryAppToken",s.data.token),this.$router.push("/")})).catch((s=>{const e=s.response.data;this.serverError=e.message,e.errors.email&&(this.errors.email=e.errors.email),e.errors.password&&(this.errors.password=e.errors.password)})).finally((()=>{this.isLoading=!1}))}}},n=i,l=r(1001),c=(0,l.Z)(n,a,t,!1,null,null,null),d=c.exports}}]);
//# sourceMappingURL=57.c1ea959a.js.map